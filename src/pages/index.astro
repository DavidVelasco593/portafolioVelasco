---
import BaseLayout from "../layouts/Layout.astro";
---

<BaseLayout>
  <!-- Header fijo -->
  <header class="fixed top-0 left-0 w-full bg-white/80 backdrop-blur z-50 border-b border-gray-100">
    <nav class="max-w-6xl mx-auto flex items-center justify-between px-6 py-4">
      <div class="flex items-center gap-4">
        <img src="/perfil.jpg" alt="David Velasco" class="w-12 h-12 rounded-full border-2 border-indigo-200 shadow" />
        <span class="font-bold text-2xl tracking-wide text-gray-700 uppercase transition-colors duration-200 hover:text-indigo-600 cursor-pointer">
          DAVID VELASCO
        </span>
      </div>
      <ul class="flex gap-8 text-gray-700 font-medium uppercase">
        <li><a href="#about" class="hover:text-indigo-600 transition">Sobre mí</a></li>
        <li><a href="#projects" class="hover:text-indigo-600 transition">Proyectos</a></li>
        <li><a href="#contact" class="hover:text-indigo-600 transition">Contacto</a></li>
      </ul>
    </nav>
  </header>

  <main class="pt-24 bg-gradient-to-br from-indigo-50 via-white to-blue-50 min-h-screen pl-0 md:pl-24">
    <!-- Barra lateral de redes sociales mejorada -->
    <div class="fixed left-6 top-1/2 -translate-y-1/2 z-40 flex flex-col gap-6 items-center
                bg-white rounded-2xl shadow-lg py-4 px-2 border border-gray-200
                transition-all duration-300
                md:flex
                hidden md:flex">
      <a href="https://www.linkedin.com/in/david-velasco-ecu/" target="_blank" aria-label="LinkedIn" class="group">
        <svg class="w-8 h-8 text-black group-hover:text-indigo-600 transition" fill="currentColor" viewBox="0 0 24 24"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.761 0 5-2.239 5-5v-14c0-2.761-2.239-5-5-5zm-11 19h-3v-10h3v10zm-1.5-11.268c-.966 0-1.75-.784-1.75-1.75s.784-1.75 1.75-1.75 1.75.784 1.75 1.75-.784 1.75-1.75 1.75zm15.5 11.268h-3v-5.604c0-1.337-.025-3.063-1.867-3.063-1.868 0-2.154 1.459-2.154 2.967v5.7h-3v-10h2.881v1.367h.041c.401-.761 1.379-1.563 2.841-1.563 3.039 0 3.6 2.001 3.6 4.601v5.595z"/></svg>
      </a>
      <a href="https://github.com/DavidVelasco593" target="_blank" aria-label="GitHub" class="group">
        <svg class="w-8 h-8 text-black group-hover:text-indigo-600 transition" fill="currentColor" viewBox="0 0 24 24"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.387.6.113.82-.258.82-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.084-.729.084-.729 1.205.084 1.84 1.236 1.84 1.236 1.07 1.834 2.809 1.304 3.495.997.108-.775.418-1.305.762-1.605-2.665-.305-5.466-1.334-5.466-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.523.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.553 3.297-1.23 3.297-1.23.653 1.653.242 2.873.118 3.176.77.84 1.235 1.91 1.235 3.221 0 4.609-2.803 5.624-5.475 5.921.43.371.823 1.102.823 2.222v3.293c0 .322.218.694.825.576C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg>
      </a>
      <a href="https://twitter.com/eu_makaquino" target="_blank" aria-label="Twitter" class="group">
        <svg class="w-8 h-8 text-black group-hover:text-indigo-600 transition" fill="currentColor" viewBox="0 0 24 24">
          <path d="M24 4.557a9.93 9.93 0 0 1-2.828.775 4.932 4.932 0 0 0 2.165-2.724c-.951.564-2.005.974-3.127 1.195a4.92 4.92 0 0 0-8.384 4.482C7.691 8.095 4.066 6.13 1.64 3.161c-.542.929-.856 2.007-.857 3.17 0 2.188 1.115 4.117 2.823 5.254A4.904 4.904 0 0 1 .964 9.1v.062a4.923 4.923 0 0 0 3.946 4.827c-.497.135-1.022.207-1.563.207-.382 0-.752-.037-1.112-.106a4.936 4.936 0 0 0 4.604 3.419A9.868 9.868 0 0 1 0 21.543a13.94 13.94 0 0 0 7.548 2.212c9.057 0 14.009-7.513 14.009-14.009 0-.213-.005-.425-.014-.636A10.012 10.012 0 0 0 24 4.557z"/>
        </svg>
      </a>
      <a href="mailto:velasco.david88@gmail.com" aria-label="Email" class="group">
        <svg class="w-8 h-8 text-black group-hover:text-indigo-600 transition" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><rect width="20" height="16" x="2" y="4" rx="2" /><path d="m22 6-8.97 6.48a2 2 0 0 1-2.36 0L2 6"/></svg>
      </a>
    </div>

    <!-- Sobre mí -->
    <section id="about" class="max-w-3xl mx-auto py-24 px-4">
      <h2 class="text-3xl font-bold mb-6 text-indigo-700">Sobre mí</h2>
      <p class="text-lg text-gray-700 leading-relaxed">
        Soy un desarrollador web apasionado por crear soluciones tecnológicas eficientes y seguras. Me especializo en el desarrollo fullstack y tengo experiencia en proyectos de ciberseguridad, aplicaciones web y gestión de datos. Siempre busco aprender nuevas tecnologías y mejorar mis habilidades.
      </p>
    </section>

    <!-- Proyectos -->
    <section id="projects" class="max-w-5xl mx-auto py-24 px-4">
      <h2 class="text-3xl font-bold mb-10 text-indigo-700 text-center">Proyectos Destacados</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
        <!-- Proyecto 1 -->
        <div class="bg-white rounded-2xl shadow-xl p-8 border border-indigo-100 hover:shadow-2xl hover:-translate-y-2 transition">
          <h3 class="text-xl font-semibold mb-2 text-indigo-700">Formulario de inscripción a una marathon en Santo Domingo</h3>
          <p class="text-gray-600 mb-4">
            Plataforma donde los usuarios se registran para la maratón mediante un formulario. El equipo organizador revisa y aprueba las inscripciones desde el sistema, notificando por correo a los seleccionados junto con instrucciones para el pago. Además, permite la administración completa de los participantes y el proceso de inscripción.
          </p>
          <a href="https://github.com/DavidVelasco593/marathon-santo-main" target="_blank" class="text-indigo-600 hover:underline font-semibold">Ver en GitHub</a>
        </div>
        <!-- Proyecto 2 -->
        <div class="bg-white rounded-2xl shadow-xl p-8 border border-indigo-100 hover:shadow-2xl hover:-translate-y-2 transition">
          <h3 class="text-xl font-semibold mb-2 text-indigo-700">Sistema de Ciberseguridad - Proyecto de Tesis</h3>
          <p class="text-gray-600 mb-4">
            Desarrollo de un sistema enfocado en la ciberseguridad para proteger la información y los activos digitales de una organización. Incluye análisis de vulnerabilidades, monitoreo y recomendaciones de buenas prácticas.
          </p>
          <a href="https://repositorio.espe.edu.ec/items/576a052c-94d7-4bce-bfa9-d9b9c3a3a2a6" target="_blank" class="text-indigo-600 hover:underline font-semibold">Ver Proyecto</a>
        </div>
      </div>
    </section>

    <!-- Contacto -->
    <section id="contact" class="max-w-3xl mx-auto py-24 px-4">
      <h2 class="text-3xl font-bold mb-6 text-indigo-700 text-center">Contáctame</h2>
      <form class="flex flex-col gap-6 bg-white/80 rounded-2xl shadow-xl p-8 border border-indigo-100" name="contacto" autocomplete="off" onsubmit="return validateContactForm(event)">
        <input required name="nombre" type="text" placeholder="Tu nombre" class="w-full px-4 py-3 rounded-lg border border-indigo-200 focus:outline-none focus:ring-2 focus:ring-indigo-400 bg-gray-50"/>
        <input required name="email" type="email" placeholder="Correo electrónico" class="w-full px-4 py-3 rounded-lg border border-indigo-200 focus:outline-none focus:ring-2 focus:ring-indigo-400 bg-gray-50"/>
        <textarea required name="mensaje" rows="4" maxlength="500" placeholder="Cuéntame sobre tu proyecto o idea..." class="w-full px-4 py-3 rounded-lg border border-indigo-200 focus:outline-none focus:ring-2 focus:ring-indigo-400 bg-gray-50"></textarea>
        <button type="submit" class="bg-indigo-600 text-white px-6 py-3 rounded-lg font-bold shadow hover:bg-indigo-700 transition flex items-center gap-2 justify-center">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M22 2L11 13" stroke-linecap="round" stroke-linejoin="round"/><path d="M22 2l-7 20-4-9-9-4 20-7z" stroke-linecap="round" stroke-linejoin="round"/></svg>
          Enviar mensaje
        </button>
        <p id="contact-error" class="text-red-600 text-sm mt-1 hidden"></p>
        <p id="contact-success" class="text-green-600 text-sm mt-1 hidden"></p>
      </form>
      <div class="flex flex-col md:flex-row justify-center gap-8 mt-8 text-center text-indigo-700 font-medium">
        <div>
          <div class="text-sm text-gray-500">Correo</div>
          velasco.david88@gmail.com
        </div>
        <div>
          <div class="text-sm text-gray-500">Teléfono</div>
          +593 989 377 750
        </div>
        <div>
          <div class="text-sm text-gray-500">Ubicación</div>
          Santo Domingo, Ecuador
        </div>
      </div>
    </section>
  </main>

  <footer class="py-8 text-center text-gray-400 text-sm">
    © 2025 David Velasco. Todos los derechos reservados.
  </footer>

  <script>
    function validateContactForm(event) {
      event.preventDefault();
      const form = event.target;
      const email = form.email.value.trim();
      const mensaje = form.mensaje.value.trim();
      const error = document.getElementById('contact-error');
      const success = document.getElementById('contact-success');
      if (error) error.classList.add('hidden');
      if (success) success.classList.add('hidden');
      if (!/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/.test(email)) {
        if (error) {
          error.textContent = "Por favor ingresa un correo válido.";
          error.classList.remove('hidden');
        }
        return false;
      }
      if (mensaje.length < 10) {
        if (error) {
          error.textContent = "El mensaje debe tener al menos 10 caracteres.";
          error.classList.remove('hidden');
        }
        return false;
      }
      if (success) {
        success.textContent = "¡Mensaje enviado correctamente!";
        success.classList.remove('hidden');
      }
      form.reset();
      return false;
    }
  </script>
</BaseLayout>